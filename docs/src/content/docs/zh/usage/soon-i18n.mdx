---
title: soon-i18n
description: 超轻量的国际化、多语言库.
---

## 安装

```bash
npm install soon-i18n

```

## 完整示例

以 preact 为例:

```bash
 npx degit https://github.com/leafio/soon-i18n/packages/soon-i18n/demo
```

## 直接使用

```ts
import { yi } from "soon-i18n";
const t = yi({
  hello: "Hello {name} !",
});
console.log(t("hello", { name: "world" }));
```

> example:[soon-admin-express](https://github.com/leafio/soon-admin-express)

## 实例用法

### 创建实例

```ts
import { createI18n } from "soon-i18n";
const en_global = {
  welcome: "Welcome {name}",
} 
const zh_global = {
  welcome: "欢迎 {name}",
}

const global_locales = {
  zh: zh_global,
  en: en_global,
};
export const { tLocales, getLang, setLang } = createI18n(
  { lang: "zh", fallbacks: ["en"] },
  global_locales
);
```

### 在 js/ts 中使用

```ts
import { tLocales } from "../lang";
export const showToast = () => {
  const t = tLocales({
    zh: { tip: "哈哈，一条中文提醒！！！" },
    en: { tip: "Aha, an English tip" },
  });
  alert(t("tip"));
};
```

### 在组件中使用

```tsx
import { tLocales } from "../lang";

const Content = () => {
  const t = tLocales({
    zh: { hello: "你好" },
    en: { hello: "Hello" },
  });
  return <div>{t("hello")}</div>;
};
export default Content;
```

### 切换语言

```ts
import { getLang, setLang } from "../lang";
const handleToggle = () => {
  setLang(lang === "en" ? "zh" : "en");
};
const SwitchLang = () => {
  return <button onClick={handleToggle}>{getLang()}</button>;
};
export default SwitchLang;
```
