(function(l,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("soon-i18n-common"),require("vue")):typeof define=="function"&&define.amd?define(["exports","soon-i18n-common","vue"],e):(l=typeof globalThis<"u"?globalThis:l||self,e(l["soon-i18n-vue"]={},l["soon-i18n-common"],l.vue))})(this,function(l,e,c){"use strict";const y=(i,f={})=>{const u=c.ref(i.lang??""),n=c.ref(i.fallbacks??[]),r=c.ref({}),b={};return e.loadSyncLocales(f,r.value),{tLocales:(d={})=>{const t=c.ref({}),p={};return e.loadSyncLocales(d,t.value),(v,...L)=>{const o={};return[u.value,...n.value].reverse().forEach(a=>{Object.assign(o,r.value[a],t.value[a])}),(!t.value[u.value]||!(v in o))&&[u.value,...n.value].some(a=>{if(!t.value[a])return e.loadLocale(s=>{t.value[a]=e.flatTreeKey(s)},p,a,d),!0;if(!r.value[a])return e.loadLocale(s=>{r.value[a]=e.flatTreeKey(s)},b,a,f),!0}),e.formatObjKey({...o},v,...L)}},lang:u,fallbacks:n}};l.createI18n=y,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
