(function(a,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("soon-i18n-common"),require("vue")):typeof define=="function"&&define.amd?define(["exports","soon-i18n-common","vue"],e):(a=typeof globalThis<"u"?globalThis:a||self,e(a["soon-i18n-vue"]={},a["soon-i18n-common"],a.vue))})(this,function(a,e,c){"use strict";const i=(f,d)=>{const r=c.ref(f.lang??""),n=c.ref(f.fallbacks??[]),u=c.ref({}),p={};return e.loadSyncLocales(d,u.value),{tLocales:v=>{const t=c.ref({}),S={};return e.loadSyncLocales(v,t.value),(y,...L)=>{const o={};return[r.value,...n.value].reverse().forEach(l=>{Object.assign(o,u.value[l],t.value[l])}),(!t.value[r.value]||!(y in o))&&[r.value,...n.value].some(l=>{if(!t.value[l])return e.loadLocale(s=>{t.value[l]=e.flatTreeKey(s)},S,l,v),!0;if(!u.value[l])return e.loadLocale(s=>{u.value[l]=e.flatTreeKey(s)},p,l,d),!0}),e.formatObjKey({...o},y,...L)}},lang:r,fallbacks:n}},b=i;a.createI18n=i,a.createI18nSafe=b,Object.defineProperty(a,Symbol.toStringTag,{value:"Module"})});
