(function(l,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("soon-i18n-common"),require("vue")):typeof define=="function"&&define.amd?define(["exports","soon-i18n-common","vue"],e):(l=typeof globalThis<"u"?globalThis:l||self,e(l["soon-i18n-vue"]={},l["soon-i18n-common"],l.vue))})(this,function(l,e,t){"use strict";const y=(i,f={})=>{const u=t.ref(i.lang??""),n=t.ref(i.fallbacks),c=t.ref({}),b={};return e.loadSyncLocales(f,c.value),{tLocales:(d={})=>{const r=t.ref({}),p={};return e.loadSyncLocales(d,r.value),(v,...L)=>{const o={};return[u.value,...n.value].reverse().forEach(a=>{Object.assign(o,c.value[a],r.value[a])}),v in o||[u.value,...n.value].some(a=>{if(!r.value[a])return e.loadLocale(s=>{r.value[a]=e.flatTreeKey(s)},p,a,d),!0;if(!c.value[a])return e.loadLocale(s=>{c.value[a]=e.flatTreeKey(s)},b,a,f),!0}),e.formatObjKey({...o},v,...L)}},lang:u,fallbacks:n}};l.createI18n=y,Object.defineProperty(l,Symbol.toStringTag,{value:"Module"})});
