(function(o,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(o=typeof globalThis<"u"?globalThis:o||self,c(o["soon-i18n-common"]={}))})(this,function(o){"use strict";const c=(t,n)=>{if(t.indexOf("{")===-1)return t;let e=t;const f=/\{(.*?)\}/g,i=t.match(f);return i&&i.forEach(r=>{if(r.length>2){const l=r.slice(1,r.length-1);e=e.replace(new RegExp(r,"gm"),n[l]??"")}}),e},u=(t,n="",e={})=>{for(const f of Object.keys(t)){const i=`${n?n+".":""}${f}`;typeof t[f]!="object"?e[i]=t[f]:u(t[f],i,e)}return e},y=(t,n,...e)=>{if(!t)return"";const f=t[n]||n;return e.length?typeof f=="function"?f(...e):c(f,e[0]):f},s=(t,n,e,f)=>{if(f&&e&&!n[e]){const i=f[e];typeof i=="function"?(n[e]=!0,i().then(r=>{t(r.default??{})}).finally(()=>{delete n[e]})):t(i??{})}},d=(t,n={})=>{for(const e in t)t[e]&&typeof t[e]=="object"&&(n[e]=u(t[e]));return n};o.flatTreeKey=u,o.formatObjKey=y,o.formatString=c,o.loadLocale=s,o.loadSyncLocales=d,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
